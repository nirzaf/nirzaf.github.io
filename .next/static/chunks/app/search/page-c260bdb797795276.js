(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2797],{6955:function(e,t,r){Promise.resolve().then(r.bind(r,4276))},756:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(1893),s=r.n(a)},9812:function(e,t,r){"use strict";var a=r(8881);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},4276:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(7718),s=r(9723),n=r(9812),l=r(756);function c(){let[e,t]=(0,s.useState)(""),[r,c]=(0,s.useState)([]),[o,i]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),h=(0,s.useRef)(null),m=(0,n.useRouter)(),x=(0,s.useCallback)(async e=>{if(!e.trim()){c([]);return}i(!0);try{let t=await fetch("/api/search?q="+encodeURIComponent(e)),r=await t.json();c(r)}catch(e){console.error("Error searching posts:",e),c([])}finally{i(!1)}},[]);return(0,s.useEffect)(()=>{let t=setTimeout(()=>{e?x(e):c([])},300);return()=>clearTimeout(t)},[e,x]),(0,s.useEffect)(()=>{function e(e){h.current&&!h.current.contains(e.target)&&u(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.jsxs)("div",{className:"relative w-full max-w-xl mx-auto",ref:h,children:[(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&(m.push("/search?q=".concat(encodeURIComponent(e))),u(!1))},className:"relative",children:[(0,a.jsx)("label",{htmlFor:"search-input",className:"sr-only",children:"Search posts"}),(0,a.jsx)("input",{type:"text",id:"search-input",name:"search-input","aria-label":"Search posts",value:e,onChange:e=>{t(e.target.value),u(!0)},onFocus:()=>u(!0),placeholder:"Search posts...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-full bg-white dark:bg-gray-800 text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full p-1","aria-label":"Search",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),d&&e.trim()&&(0,a.jsx)("div",{className:"absolute z-10 mt-2 w-full bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 max-h-96 overflow-y-auto",children:o?(0,a.jsx)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Loading..."}):r.length>0?(0,a.jsx)("ul",{children:r.map(e=>(0,a.jsx)("li",{className:"border-b border-gray-100 dark:border-gray-700 last:border-0",children:(0,a.jsxs)(l.default,{href:"/blog/".concat(e.slug),className:"block p-4 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>u(!1),children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2",children:e.description}),e.tags&&e.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map(e=>(0,a.jsxs)("span",{className:"text-xs px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full",children:["#",e]},e))})]})},e.slug))}):(0,a.jsxs)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:['No results found for "',e,'"']})})]})}function o(){let e=(0,n.useSearchParams)().get("q")||"",[t,r]=(0,s.useState)([]),[o,i]=(0,s.useState)(!1),d=(e,t)=>{if(!t.trim())return e;let r=t.toLowerCase().split(/\s+/),a=e;return r.forEach(e=>{if(!e)return;let t=RegExp("(".concat(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gi");a=a.replace(t,'<mark class="bg-yellow-200 dark:bg-yellow-800">$1</mark>')}),a};return(0,s.useEffect)(()=>{(async function(){if(!e){r([]);return}i(!0);try{let t=await fetch("/api/search?q=".concat(encodeURIComponent(e)));if(!t.ok)throw Error("Failed to fetch search results");let a=await t.json();r(a)}catch(e){console.error("Error fetching search results:",e),r([])}finally{i(!1)}})()},[e]),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Search Results"}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(c,{})}),e?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:o?"Searching...":0===t.length?'No results found for "'.concat(e,'"'):"Found ".concat(t.length," result").concat(1===t.length?"":"s",' for "').concat(e,'"')}),o?(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,a.jsx)("div",{className:"space-y-8",children:t.map(t=>(0,a.jsxs)("div",{className:"border border-gray-200 dark:border-gray-800 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-2",children:[(0,a.jsx)("span",{children:new Date(t.pubDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"title"===t.matchType?"Title match":"description"===t.matchType?"Description match":"tag"===t.matchType?"Tag match":"Content match"})]}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:(0,a.jsx)(l.default,{href:"/blog/".concat(t.slug),className:"hover:text-blue-600 dark:hover:text-blue-400",children:t.title})}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",dangerouslySetInnerHTML:{__html:d(t.description,e)}}),t.tags&&t.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.tags.map(t=>(0,a.jsx)(l.default,{href:"/tags/".concat(t),className:"text-xs px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700",dangerouslySetInnerHTML:{__html:"#".concat(d(t,e))}},t))})]},t.slug))})]}):(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Enter a search term to find blog posts."})})]})}function i(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Search Results"}),(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]}),children:(0,a.jsx)(o,{})})}}},function(e){e.O(0,[1893,8599,541,1744],function(){return e(e.s=6955)}),_N_E=e.O()}]);